import pygame
import sys

pygame.init()

# Configurações de tela
SCREEN_WIDTH = 600
SCREEN_HEIGHT = 400
screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
pygame.display.set_caption("Menu - Jogo da Velha 2D")

# Cores
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
GRAY = (50, 50, 50)
HOVER_COLOR = (70, 130, 180)
BG_COLOR = (30, 30, 30)

# Fonte
pygame.font.init()
title_font = pygame.font.SysFont("arial", 48, bold=True)
button_font = pygame.font.SysFont("arial", 32)

# Botões
buttons = [
    {"text": "Jogar", "rect": pygame.Rect(SCREEN_WIDTH//2 - 100, 180, 200, 50), "action": "start"},
    {"text": "Sair", "rect": pygame.Rect(SCREEN_WIDTH//2 - 100, 260, 200, 50), "action": "quit"}
]

def draw_menu():
    # Fundo
    screen.fill(BG_COLOR)

    # Título
    title_surface = title_font.render("Jogo da Velha", True, WHITE)
    screen.blit(title_surface, (SCREEN_WIDTH//2 - title_surface.get_width()//2, 80))

    # Botões
    mouse_pos = pygame.mouse.get_pos()
    for button in buttons:
        # Mudar cor se mouse estiver em cima
        if button["rect"].collidepoint(mouse_pos):
            pygame.draw.rect(screen, HOVER_COLOR, button["rect"], border_radius=10)
        else:
            pygame.draw.rect(screen, GRAY, button["rect"], border_radius=10)

        # Borda
        pygame.draw.rect(screen, WHITE, button["rect"], 2, border_radius=10)

        # Texto
        text_surface = button_font.render(button["text"], True, WHITE)
        screen.blit(text_surface, (
            button["rect"].x + button["rect"].width//2 - text_surface.get_width()//2,
            button["rect"].y + button["rect"].height//2 - text_surface.get_height()//2
        ))

def menu_loop():
    while True:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                sys.exit()

            if event.type == pygame.MOUSEBUTTONDOWN:
                for button in buttons:
                    if button["rect"].collidepoint(event.pos):
                        if button["action"] == "start":
                            print("Iniciando o jogo...")
                            return "start"
                        elif button["action"] == "quit":
                            pygame.quit()
                            sys.exit()

        draw_menu()
        pygame.display.flip()

# Teste do menu
if __name__ == "__main__":
    escolha = menu_loop()
    print("Opção escolhida:", escolha)
